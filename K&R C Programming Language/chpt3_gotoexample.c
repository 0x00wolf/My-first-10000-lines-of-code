for ( ... )
    for ( ... ) {
        ...
        if (disaster)
            goto error;

error:
    clean up mess...
